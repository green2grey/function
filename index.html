<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animated Function Shadows with Breakdown</title>
    <style>
        body { display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; font-family: Arial, sans-serif; }
        #container { width: 800px; height: 600px; display: flex; flex-wrap: wrap; }
        #graph { width: 400px; height: 400px; }
        #breakdown { 
            width: 380px; 
            height: 180px; 
            margin-left: 20px; 
            margin-top: 20px; 
            font-size: 14px; 
            opacity: 0;
            transform: translateX(50px);
            transition: opacity 1s, transform 1s;
        }
        #breakdown h3 { margin-top: 0; }
        #breakdown ul { padding-left: 20px; margin-top: 5px; }
    </style>
</head>
<body>
    <div id="container">
        <div id="graph">
            <svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
                <line x1="50" y1="200" x2="350" y2="200" stroke="black" stroke-width="2"/>
                <line x1="200" y1="50" x2="200" y2="350" stroke="black" stroke-width="2"/>
                
                <text x="360" y="205" font-size="14">x</text>
                <text x="190" y="40" font-size="14">y</text>
                
                <g stroke="lightgray" stroke-width="0.5">
                    <line x1="50" y1="125" x2="350" y2="125"/>
                    <line x1="50" y1="275" x2="350" y2="275"/>
                    <line x1="125" y1="50" x2="125" y2="350"/>
                    <line x1="275" y1="50" x2="275" y2="350"/>
                </g>
                
                <path d="M 50 125 Q 125 200 200 200" fill="none" stroke="blue" stroke-width="2"/>
                <path d="M 200 200 Q 275 200 350 125" fill="none" stroke="blue" stroke-width="2"/>
                
                <line id="leftDomain" x1="50" y1="210" x2="50" y2="210" stroke="rgba(255,0,0,0.5)" stroke-width="10"/>
                <line id="rightDomain" x1="350" y1="210" x2="350" y2="210" stroke="rgba(255,0,0,0.5)" stroke-width="10"/>
                <text x="60" y="230" font-size="12" fill="red">x ≤ -2</text>
                <text x="285" y="230" font-size="12" fill="red">x ≥ 2</text>
                
                <line id="rangeShadow" x1="190" y1="200" x2="190" y2="200" stroke="rgba(0,255,0,0.5)" stroke-width="10"/>
                <text x="160" y="125" font-size="12" fill="green" transform="rotate(-90 160,125)">y ≥ 0</text>
                
                <text x="220" y="80" font-size="16" fill="blue">f(x) = √(x² - 4)</text>
                
                <circle cx="125" cy="200" r="3" fill="purple"/>
                <text x="105" y="220" font-size="12">(-2, 0)</text>
                
                <circle cx="275" cy="200" r="3" fill="purple"/>
                <text x="285" y="220" font-size="12">(2, 0)</text>
                
                <circle cx="325" cy="150" r="3" fill="purple"/>
                <text x="330" y="145" font-size="12">(3, √5)</text>
                <line x1="325" y1="150" x2="325" y2="200" stroke="purple" stroke-dasharray="2,2"/>
                <line x1="325" y1="150" x2="200" y2="150" stroke="purple" stroke-dasharray="2,2"/>
                
                <text x="260" y="190" font-size="12">Input (x)</text>
                <text x="205" y="70" font-size="12" transform="rotate(-90 205,70)">Output (y)</text>
                
                <line x1="125" y1="50" x2="125" y2="350" stroke="orange" stroke-width="1" stroke-dasharray="5,5"/>
                <line x1="275" y1="50" x2="275" y2="350" stroke="orange" stroke-width="1" stroke-dasharray="5,5"/>
                <text x="95" y="180" font-size="12" fill="orange" transform="rotate(-90 95,180)">x = -2</text>
                <text x="305" y="180" font-size="12" fill="orange" transform="rotate(-90 305,180)">x = 2</text>

                <rect x="10" y="325" width="140" height="65" fill="white" stroke="black" stroke-width="1"/>
                <text x="15" y="340" font-size="10" font-weight="bold">Legend:</text>
                <text x="15" y="355" font-size="10" fill="red">Red: Domain (Input)</text>
                <text x="15" y="370" font-size="10" fill="green">Green: Range (Output)</text>
                <line x1="15" y1="380" x2="55" y2="380" stroke="orange" stroke-width="1" stroke-dasharray="5,5"/>
                <text x="60" y="385" font-size="10" fill="orange">Asymptotes</text>
            </svg>
        </div>
        <div id="breakdown">
            <h3>Function Breakdown: f(x) = √(x² - 4)</h3>
            <ul>
                <li>Step 1: Consider x² - 4
                    <ul>
                        <li>This is undefined when x² - 4 < 0</li>
                        <li>Solve: x² < 4</li>
                        <li>Result: -2 < x < 2</li>
                    </ul>
                </li>
                <li>Step 2: Domain
                    <ul>
                        <li>x ≤ -2 or x ≥ 2</li>
                        <li>In interval notation: (-∞, -2] ∪ [2, ∞)</li>
                    </ul>
                </li>
                <li>Step 3: Range
                    <ul>
                        <li>y = √(x² - 4) ≥ 0 for all valid x</li>
                        <li>In interval notation: [0, ∞)</li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>

    <script>
        function animateShadows() {
            const leftDomain = document.getElementById('leftDomain');
            const rightDomain = document.getElementById('rightDomain');
            const rangeShadow = document.getElementById('rangeShadow');
            
            let t = 0;
            const animationDuration = 2000;

            function animate() {
                t += 16;
                const progress = Math.min(t / animationDuration, 1);
                
                leftDomain.setAttribute('x2', 50 + 75 * progress);
                rightDomain.setAttribute('x1', 350 - 75 * progress);
                
                rangeShadow.setAttribute('y1', 200 - 150 * progress);
                
                if (progress < 1) {
                    requestAnimationFrame(animate);
                } else {
                    setTimeout(() => {
                        t = 0;
                        animate();
                    }, 1000);
                }
            }

            animate();
        }

        function animateBreakdown() {
            const breakdown = document.getElementById('breakdown');
            setTimeout(() => {
                breakdown.style.opacity = '1';
                breakdown.style.transform = 'translateX(0)';
            }, 500);
        }

        window.onload = function() {
            animateShadows();
            animateBreakdown();
        };
    </script>
</body>
</html>
